{"version":3,"sources":["webpack:///./src/views/InnerClass.vue?8dfb","webpack:///src/views/InnerClass.vue","webpack:///./src/views/InnerClass.vue?5f59","webpack:///./src/views/InnerClass.vue","webpack:///./src/views/InnerClass.vue?46c4"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","src","__webpack_require__","alt","on","click","upOne","_v","_s","name","homepage","_l","item","index","key","ref","refInFor","$event","highlight","classAll","subclass","highlight2","directives","rawName","value","expression","goDetails","setDatum","cover","title","author","majorCate","shortIntro","latelyFollower","retentionRatio","upload","loadMore","show","staticRenderFns","InnerClassvue_type_script_lang_js_","props","data","spanText","bookDatas","start","ending","type","clickSubclass","watch","_this","axios","get","direction","then","response","console","log","undefined","books","length","slice","_this2","methods","$router","push","path","url","imgurl","replace","unescape","query","ind","$refs","span","style","color","filter","element","i","mins","all","span2","_this3","concat","created","_this4","male","female","picture","press","a","major","$nextTick","menuScroll","refresh","bscroll_esm","options","scrollX","views_InnerClassvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_InnerClass_vue_vue_type_style_index_0_id_67f536d3_lang_scss_rel_stylesheet_2Fscss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_InnerClass_vue_vue_type_style_index_0_id_67f536d3_lang_scss_rel_stylesheet_2Fscss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-62b3cb83.fcc9890b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box\"},[_c('div',{staticClass:\"headline\"},[_c('div',{staticClass:\"go-back\"},[_c('img',{attrs:{\"src\":require(\"../../public/img/detail-page03.png\"),\"alt\":\"\"}}),_c('span',{on:{\"click\":_vm.upOne}},[_vm._v(\"返回\")])]),_c('span',{staticClass:\"book-details\"},[_vm._v(_vm._s(_vm.name))]),_c('div',{staticClass:\"homepage\"},[_c('img',{attrs:{\"src\":require(\"../../public/img/detail-page02.png\")},on:{\"click\":_vm.homepage}})])]),_c('div',{staticClass:\"options\"},[_c('div',{staticClass:\"option\"},_vm._l((_vm.spanText),function(item,index){return _c('span',{key:index,ref:\"span\",refInFor:true,on:{\"click\":function($event){return _vm.highlight(index)}}},[_vm._v(_vm._s(item))])}),0)]),_c('div',{ref:\"options\",staticClass:\"options\"},[_c('div',{staticClass:\"option\"},[_c('span',{ref:\"all\",on:{\"click\":_vm.classAll}},[_vm._v(\"全部\")]),_vm._l((_vm.subclass.mins),function(item,index){return _c('span',{key:index,ref:\"span2\",refInFor:true,on:{\"click\":function($event){return _vm.highlight2(index)}}},[_vm._v(_vm._s(item))])})],2)]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}],staticClass:\"books\"},[_vm._l((_vm.bookDatas),function(item,index){return _c('div',{key:index,staticClass:\"book\",on:{\"click\":function($event){return _vm.goDetails(item)}}},[_c('div',{staticClass:\"img\"},[_c('img',{attrs:{\"src\":_vm.setDatum(item.cover)}})]),_c('dir',{staticClass:\"right\"},[_c('h4',[_vm._v(_vm._s(item.title))]),_c('div',{staticClass:\"author\"},[_vm._v(\"\\n          \"+_vm._s(item.author)+\"\\n          \"),_c('span',[_vm._v(\"|\")]),_vm._v(\"\\n          \"+_vm._s(item.majorCate)+\"\\n        \")]),_c('div',{staticClass:\"synopsis\"},[_c('span',[_vm._v(_vm._s(item.shortIntro))])]),_c('div',{staticClass:\"reader\"},[_c('span',[_vm._v(_vm._s(item.latelyFollower))]),_vm._v(\"人气\\n          \"),_c('span',{staticClass:\"upright\"},[_vm._v(\"|\")]),_c('span',[_vm._v(_vm._s(item.retentionRatio)+\"%\")]),_vm._v(\"读者留存\\n        \")])])],1)}),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.upload),expression:\"!upload\"}],on:{\"click\":_vm.loadMore}},[_vm._v(\"加载更多书籍\")]),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.upload),expression:\"upload\"}]},[_vm._v(\"加载中...\")])],2),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.show),expression:\"!show\"}],staticClass:\"books\"},[_c('p',[_vm._v(\"没有这类书籍的数据\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"box\">\r\n    <div class=\"headline\">\r\n      <div class=\"go-back\">\r\n        <img src=\"../../public/img/detail-page03.png\" alt>\r\n        <span @click=\"upOne\">返回</span>\r\n      </div>\r\n      <span class=\"book-details\">{{name}}</span>\r\n      <div class=\"homepage\">\r\n        <img src=\"../../public/img/detail-page02.png\" @click=\"homepage\">\r\n      </div>\r\n    </div>\r\n    <div class=\"options\">\r\n      <div class=\"option\">\r\n        <span\r\n          v-for=\"(item, index) in spanText\"\r\n          :key=\"index\"\r\n          @click=\"highlight(index)\"\r\n          ref=\"span\"\r\n        >{{item}}</span>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"options\" ref=\"options\">\r\n      <div class=\"option\">\r\n        <span ref=\"all\" @click=\"classAll\">全部</span>\r\n        <span\r\n          v-for=\"(item, index) in subclass.mins\"\r\n          :key=\"index\"\r\n          @click=\"highlight2(index)\"\r\n          ref=\"span2\"\r\n        >{{item}}</span>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"books\" v-show=\"show\">\r\n      <div class=\"book\" @click=\"goDetails(item)\" v-for=\"(item, index) in bookDatas\" :key=\"index\">\r\n        <div class=\"img\">\r\n          <img :src=\"setDatum(item.cover)\">\r\n        </div>\r\n        <dir class=\"right\">\r\n          <h4>{{item.title}}</h4>\r\n          <div class=\"author\">\r\n            {{item.author}}\r\n            <span>|</span>\r\n            {{item.majorCate}}\r\n          </div>\r\n          <div class=\"synopsis\">\r\n            <span>{{item.shortIntro}}</span>\r\n          </div>\r\n          <div class=\"reader\">\r\n            <span>{{item.latelyFollower}}</span>人气\r\n            <span class=\"upright\">|</span>\r\n            <span>{{item.retentionRatio}}%</span>读者留存\r\n          </div>\r\n        </dir>\r\n      </div>\r\n      <p v-show=\"!upload\" @click=\"loadMore\">加载更多书籍</p>\r\n      <p v-show=\"upload\">加载中...</p>\r\n    </div>\r\n    <div class=\"books\" v-show=\"!show\">\r\n      <p>没有这类书籍的数据</p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport BScroll from \"better-scroll\";\r\n\r\nexport default {\r\n  name: \"RelatedBook\",\r\n  //name==> 类型书名 例: 玄幻\r\n  //direction==> 例：男\r\n  props: [\"name\", \"direction\"],\r\n  data() {\r\n    return {\r\n      //子分类\r\n      subclass: \"\",\r\n      spanText: [\"热门\", \"新书\", \"好评\", \"完结\", \"包月\"],\r\n      //展示的书的数据\r\n      bookDatas: \"\",\r\n      upload: false,\r\n      start: 0,\r\n      ending: 10,\r\n      type: \"hot\",\r\n      clickSubclass: \"\",\r\n      show: true\r\n    };\r\n  },\r\n  watch: {\r\n    // /api/book/by-categories?gender=male&type=hot&major=%E5%A5%87%E5%B9%BB&minor=&start=0&limit=20\r\n    type() {\r\n      this.axios\r\n        .get(\r\n          \"/api/book/by-categories?gender=\" +\r\n            this.direction +\r\n            \"&type=\" +\r\n            this.type +\r\n            \"&major=\" +\r\n            this.name +\r\n            \"&minor=\" +\r\n            this.clickSubclass\r\n        )\r\n        .then(response => {\r\n          console.log(response.data);\r\n          if (\r\n            response.data.books == undefined ||\r\n            response.data.books.length == 0\r\n          ) {\r\n            this.show = false;\r\n          } else {\r\n            this.show = true;\r\n            this.bookDatas = response.data.books.slice(0, 10);\r\n            this.start = 0;\r\n            this.ending = 10;\r\n            this.start = this.ending;\r\n            this.ending = this.ending + 10;\r\n          }\r\n\r\n          console.log(this.bookDatas);\r\n        });\r\n    },\r\n    clickSubclass() {\r\n      this.axios\r\n        .get(\r\n          \"/api/book/by-categories?gender=\" +\r\n            this.direction +\r\n            \"&type=\" +\r\n            this.type +\r\n            \"&major=\" +\r\n            this.name +\r\n            \"&minor=\" +\r\n            this.clickSubclass\r\n        )\r\n        .then(response => {\r\n          if (response.data.books == undefined) {\r\n            this.show = false;\r\n          } else {\r\n            this.show = true;\r\n            this.bookDatas = response.data.books.slice(0, 10);\r\n            this.start = 0;\r\n            this.ending = 10;\r\n            this.start = this.ending;\r\n            this.ending = this.ending + 10;\r\n          }\r\n        });\r\n    }\r\n  },\r\n  methods: {\r\n    upOne() {\r\n      this.$router.push({ path: \"/Classify\" });\r\n    },\r\n    homepage() {\r\n      this.$router.push({ path: \"/\" });\r\n    },\r\n    setDatum(url) {\r\n      //图片路径处理\r\n      if (url) {\r\n        let imgurl = url.replace(\"/agent/\", \"\");\r\n        imgurl = unescape(imgurl);\r\n        return imgurl;\r\n      }\r\n    },\r\n    goDetails(item) {\r\n      this.$router.push({ path: \"/Details\", query: { name: item } });\r\n    },\r\n    //高亮\r\n    highlight(ind) {\r\n      if (ind == 0) {\r\n        this.type = \"hot\";\r\n      } else if (ind == 1) {\r\n        this.type = \"new\";\r\n      } else if (ind == 2) {\r\n        this.type = \"repulation\";\r\n      } else if (ind == 3) {\r\n        this.type = \"over\";\r\n      } else if (ind == 4) {\r\n        this.type = \"month\";\r\n      }\r\n      console.log(this.type);\r\n      this.$refs.span[ind].style.color = \"#b93321\";\r\n      let span = this.$refs.span.filter(function(element, index) {\r\n        return index !== ind;\r\n      });\r\n      for (let i = 0; i < span.length; i++) {\r\n        span[i].style.color = \"rgb(141, 140, 140)\";\r\n      }\r\n    },\r\n    highlight2(ind) {\r\n      this.clickSubclass = this.subclass.mins[ind];\r\n      this.$refs.all.style.color = \"rgb(141, 140, 140)\";\r\n      this.$refs.span2[ind].style.color = \"#b93321\";\r\n      let span = this.$refs.span2.filter(function(element, index) {\r\n        return index !== ind;\r\n      });\r\n      for (let i = 0; i < span.length; i++) {\r\n        span[i].style.color = \"rgb(141, 140, 140)\";\r\n      }\r\n    },\r\n    classAll() {\r\n      this.clickSubclass = \"\";\r\n      this.$refs.all.style.color = \"#b93321\";\r\n      console.log(this.$refs.span2);\r\n      for (let i = 0; i < this.$refs.span2.length; i++) {\r\n        this.$refs.span2[i].style.color = \"rgb(141, 140, 140)\";\r\n      }\r\n    },\r\n    //加载书籍\r\n    loadMore() {\r\n      this.upload = !this.upload;\r\n      let url =\r\n        \"/api/book/by-categories?gender=\" +\r\n        this.direction +\r\n        \"&type=\" +\r\n        this.type +\r\n        \"&major=\" +\r\n        this.name +\r\n        \"&minor=\" +\r\n        this.clickSubclass;\r\n      this.axios.get(url).then(response => {\r\n        this.bookDatas = this.bookDatas.concat(\r\n          response.data.books.slice(this.start, this.ending)\r\n        );\r\n        this.start = this.ending;\r\n        this.ending = this.ending + 10;\r\n        this.upload = !this.upload;\r\n      });\r\n    }\r\n  },\r\n  created() {\r\n    // /api/book/by-categories?gender=male&type=hot&major=%E5%A5%87%E5%B9%BB&minor=&start=0&limit=20\r\n    this.axios.get(\"/api/cats/lv2\").then(response => {\r\n      console.log(response)\r\n      if (this.direction === \"male\") {\r\n        this.subclass = response.data.male.filter(function(element) {\r\n          return element;\r\n        });\r\n      } else if (this.direction === \"female\") {\r\n        this.subclass = response.data.female.filter(function(element) {\r\n          return element;\r\n        });\r\n      } else if (this.direction === \"picture\") {\r\n        this.subclass = response.data.picture.filter(function(element) {\r\n          return element;\r\n        });\r\n      } else {\r\n        this.subclass = response.data.press.filter(function(element) {\r\n          return element;\r\n        });\r\n      }\r\n      let a = this.name;\r\n      this.subclass = this.subclass.filter(function(element) {\r\n        return element.major == a;\r\n      });\r\n      this.subclass = this.subclass[0];\r\n      console.log(this.subclass)\r\n    });\r\n    this.axios\r\n      .get(\r\n        \"/api/book/by-categories?gender=\" +\r\n          this.direction +\r\n          \"&type=\" +\r\n          this.type +\r\n          \"&major=\" +\r\n          this.name +\r\n          \"&minor=\" +\r\n          this.clickSubclass\r\n      )\r\n      .then(response => {\r\n        this.bookDatas = response.data.books.slice(0, 10);\r\n        this.start = this.ending;\r\n        this.ending = this.ending + 10;\r\n      });\r\n\r\n    //better-scoll\r\n    this.$nextTick(() => {\r\n      //数据更新完毕后，组件重新渲染完毕\r\n      //避免内存泄漏\r\n      if (!this.menuScroll) {\r\n        //保证是个单例\r\n        this.menuScroll = new BScroll(this.$refs.options, {\r\n          scrollX: true,\r\n          click: true\r\n        });\r\n      } else {\r\n        this.menuScroll.refresh(); //重新计算高度\r\n      }\r\n    });\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" rel=\"stylesheet/scss\" scoped>\r\n@import \"../../public/sass/mixin\";\r\n\r\n.box {\r\n  margin-top: -100px;\r\n  z-index: 999;\r\n  position: relative;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 120%;\r\n  background: #fff;\r\n}\r\n\r\n.box .headline {\r\n  display: flex;\r\n  width: 100%;\r\n  height: 44px;\r\n  background: #b93321;\r\n\r\n  .go-back {\r\n    flex: 0 0 60px;\r\n    width: 60px;\r\n    height: 100%;\r\n    line-height: 44px;\r\n\r\n    img {\r\n      margin-left: 10px;\r\n      width: 15px;\r\n    }\r\n\r\n    span {\r\n      display: inline-block;\r\n      margin-top: -3px;\r\n      vertical-align: top;\r\n      font-size: 12px;\r\n      font-weight: 400;\r\n      color: #fff;\r\n    }\r\n  }\r\n\r\n  .book-details {\r\n    flex: 1;\r\n    text-align: center;\r\n    line-height: 44px;\r\n    font-size: 14px;\r\n    color: #fff;\r\n  }\r\n\r\n  .homepage {\r\n    flex: 0 0 50px;\r\n    width: 50px;\r\n    height: 100%;\r\n    text-align: center;\r\n    line-height: 44px;\r\n\r\n    img {\r\n      width: 15px;\r\n    }\r\n  }\r\n}\r\n\r\n.box .options {\r\n  height: 45px;\r\n  overflow: hidden;\r\n  @include border-bottom(rgb(240, 238, 238));\r\n  background: #fff;\r\n\r\n  .option {\r\n    display: inline-block;\r\n    height: 100%;\r\n    white-space: nowrap;\r\n\r\n    span {\r\n      padding: 0 10px;\r\n      display: inline-block;\r\n      height: 100%;\r\n      line-height: 45px;\r\n      text-align: center;\r\n      font-size: 13px;\r\n      font-weight: bold;\r\n      color: rgb(141, 140, 140);\r\n    }\r\n\r\n    span:first-child {\r\n      color: #b93321;\r\n    }\r\n  }\r\n}\r\n\r\n.box .books {\r\n  width: 100%;\r\n  background: #f5f2ed;\r\n}\r\n\r\n.box .books .book {\r\n  display: flex;\r\n  margin-left: 15px;\r\n  padding: 15px 15px 15px 0px;\r\n  width: calc(100% - 30px);\r\n  height: 75px;\r\n  @include border-bottom(#ccc);\r\n\r\n  .img {\r\n    display: inline-block;\r\n    flex: 0 0 60px;\r\n    width: 60px;\r\n    height: 75px;\r\n    border: 1px solid #ebebeb;\r\n    box-sizing: border-box;\r\n\r\n    img {\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n  }\r\n}\r\n\r\n.box .books .book .right {\r\n  flex: 0 1 calc(100% - 75px);\r\n  width: calc(100% - 75px);\r\n  margin: 0;\r\n  margin-left: 15px;\r\n  padding: 0;\r\n\r\n  h4 {\r\n    height: 20px;\r\n    line-height: 20px;\r\n    font-size: 14px;\r\n    font-weight: bold;\r\n    color: #333 !important;\r\n  }\r\n\r\n  .author {\r\n    height: 20px;\r\n    line-height: 20px;\r\n    font-size: 12px;\r\n    color: #999;\r\n\r\n    span {\r\n      padding: 0 10px;\r\n    }\r\n  }\r\n\r\n  .synopsis {\r\n    height: 20px;\r\n    line-height: 20px;\r\n    font-size: 12px;\r\n    color: #999;\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n    overflow: hidden;\r\n\r\n    span {\r\n      display: inline-block;\r\n      width: 100%;\r\n    }\r\n  }\r\n\r\n  .reader {\r\n    height: 20px;\r\n    line-height: 20px;\r\n    font-size: 12px;\r\n    color: #666;\r\n\r\n    span {\r\n      color: #b93321;\r\n    }\r\n\r\n    span.upright {\r\n      color: #666;\r\n      padding: 0 10px;\r\n    }\r\n  }\r\n}\r\n\r\n.box .books > p {\r\n  width: 100%;\r\n  height: 40px;\r\n  line-height: 40px;\r\n  text-align: center;\r\n  font-size: 12px;\r\n  color: #999;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InnerClass.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InnerClass.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InnerClass.vue?vue&type=template&id=67f536d3&scoped=true&\"\nimport script from \"./InnerClass.vue?vue&type=script&lang=js&\"\nexport * from \"./InnerClass.vue?vue&type=script&lang=js&\"\nimport style0 from \"./InnerClass.vue?vue&type=style&index=0&id=67f536d3&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"67f536d3\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InnerClass.vue?vue&type=style&index=0&id=67f536d3&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InnerClass.vue?vue&type=style&index=0&id=67f536d3&lang=scss&rel=stylesheet%2Fscss&scoped=true&\""],"sourceRoot":""}