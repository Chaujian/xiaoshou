(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-62b3cb83"],{c3f2:function(s,t,i){},c54f:function(s,t,i){"use strict";i.r(t);var a=function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"box"},[a("div",{staticClass:"headline"},[a("div",{staticClass:"go-back"},[a("img",{attrs:{src:i("0016"),alt:""}}),a("span",{on:{click:s.upOne}},[s._v("返回")])]),a("span",{staticClass:"book-details"},[s._v(s._s(s.name))]),a("div",{staticClass:"homepage"},[a("img",{attrs:{src:i("2608")},on:{click:s.homepage}})])]),a("div",{staticClass:"options"},[a("div",{staticClass:"option"},s._l(s.spanText,function(t,i){return a("span",{key:i,ref:"span",refInFor:!0,on:{click:function(t){return s.highlight(i)}}},[s._v(s._s(t))])}),0)]),a("div",{ref:"options",staticClass:"options"},[a("div",{staticClass:"option"},[a("span",{ref:"all",on:{click:s.classAll}},[s._v("全部")]),s._l(s.subclass.mins,function(t,i){return a("span",{key:i,ref:"span2",refInFor:!0,on:{click:function(t){return s.highlight2(i)}}},[s._v(s._s(t))])})],2)]),a("div",{directives:[{name:"show",rawName:"v-show",value:s.show,expression:"show"}],staticClass:"books"},[s._l(s.bookDatas,function(t,i){return a("div",{key:i,staticClass:"book",on:{click:function(i){return s.goDetails(t)}}},[a("div",{staticClass:"img"},[a("img",{attrs:{src:s.setDatum(t.cover)}})]),a("dir",{staticClass:"right"},[a("h4",[s._v(s._s(t.title))]),a("div",{staticClass:"author"},[s._v("\n          "+s._s(t.author)+"\n          "),a("span",[s._v("|")]),s._v("\n          "+s._s(t.majorCate)+"\n        ")]),a("div",{staticClass:"synopsis"},[a("span",[s._v(s._s(t.shortIntro))])]),a("div",{staticClass:"reader"},[a("span",[s._v(s._s(t.latelyFollower))]),s._v("人气\n          "),a("span",{staticClass:"upright"},[s._v("|")]),a("span",[s._v(s._s(t.retentionRatio)+"%")]),s._v("读者留存\n        ")])])],1)}),a("p",{directives:[{name:"show",rawName:"v-show",value:!s.upload,expression:"!upload"}],on:{click:s.loadMore}},[s._v("加载更多书籍")]),a("p",{directives:[{name:"show",rawName:"v-show",value:s.upload,expression:"upload"}]},[s._v("加载中...")])],2),a("div",{directives:[{name:"show",rawName:"v-show",value:!s.show,expression:"!show"}],staticClass:"books"},[a("p",[s._v("没有这类书籍的数据")])])])},e=[],o=(i("a481"),i("7f7f"),i("1fba")),n={name:"RelatedBook",props:["name","direction"],data:function(){return{subclass:"",spanText:["热门","新书","好评","完结","包月"],bookDatas:"",upload:!1,start:0,ending:10,type:"hot",clickSubclass:"",show:!0}},watch:{type:function(){var s=this;this.axios.get("/api/book/by-categories?gender="+this.direction+"&type="+this.type+"&major="+this.name+"&minor="+this.clickSubclass).then(function(t){console.log(t.data),void 0==t.data.books||0==t.data.books.length?s.show=!1:(s.show=!0,s.bookDatas=t.data.books.slice(0,10),s.start=0,s.ending=10,s.start=s.ending,s.ending=s.ending+10),console.log(s.bookDatas)})},clickSubclass:function(){var s=this;this.axios.get("/api/book/by-categories?gender="+this.direction+"&type="+this.type+"&major="+this.name+"&minor="+this.clickSubclass).then(function(t){void 0==t.data.books?s.show=!1:(s.show=!0,s.bookDatas=t.data.books.slice(0,10),s.start=0,s.ending=10,s.start=s.ending,s.ending=s.ending+10)})}},methods:{upOne:function(){this.$router.push({path:"/Classify"})},homepage:function(){this.$router.push({path:"/"})},setDatum:function(s){if(s){var t=s.replace("/agent/","");return t=unescape(t),t}},goDetails:function(s){this.$router.push({path:"/Details",query:{name:s}})},highlight:function(s){0==s?this.type="hot":1==s?this.type="new":2==s?this.type="repulation":3==s?this.type="over":4==s&&(this.type="month"),console.log(this.type),this.$refs.span[s].style.color="#b93321";for(var t=this.$refs.span.filter(function(t,i){return i!==s}),i=0;i<t.length;i++)t[i].style.color="rgb(141, 140, 140)"},highlight2:function(s){this.clickSubclass=this.subclass.mins[s],this.$refs.all.style.color="rgb(141, 140, 140)",this.$refs.span2[s].style.color="#b93321";for(var t=this.$refs.span2.filter(function(t,i){return i!==s}),i=0;i<t.length;i++)t[i].style.color="rgb(141, 140, 140)"},classAll:function(){this.clickSubclass="",this.$refs.all.style.color="#b93321",console.log(this.$refs.span2);for(var s=0;s<this.$refs.span2.length;s++)this.$refs.span2[s].style.color="rgb(141, 140, 140)"},loadMore:function(){var s=this;this.upload=!this.upload;var t="/api/book/by-categories?gender="+this.direction+"&type="+this.type+"&major="+this.name+"&minor="+this.clickSubclass;this.axios.get(t).then(function(t){s.bookDatas=s.bookDatas.concat(t.data.books.slice(s.start,s.ending)),s.start=s.ending,s.ending=s.ending+10,s.upload=!s.upload})}},created:function(){var s=this;this.axios.get("/api/cats/lv2").then(function(t){console.log(t),"male"===s.direction?s.subclass=t.data.male.filter(function(s){return s}):"female"===s.direction?s.subclass=t.data.female.filter(function(s){return s}):"picture"===s.direction?s.subclass=t.data.picture.filter(function(s){return s}):s.subclass=t.data.press.filter(function(s){return s});var i=s.name;s.subclass=s.subclass.filter(function(s){return s.major==i}),s.subclass=s.subclass[0],console.log(s.subclass)}),this.axios.get("/api/book/by-categories?gender="+this.direction+"&type="+this.type+"&major="+this.name+"&minor="+this.clickSubclass).then(function(t){s.bookDatas=t.data.books.slice(0,10),s.start=s.ending,s.ending=s.ending+10}),this.$nextTick(function(){s.menuScroll?s.menuScroll.refresh():s.menuScroll=new o["a"](s.$refs.options,{scrollX:!0,click:!0})})}},r=n,c=(i("d2f6"),i("2877")),l=Object(c["a"])(r,a,e,!1,null,"67f536d3",null);t["default"]=l.exports},d2f6:function(s,t,i){"use strict";var a=i("c3f2"),e=i.n(a);e.a}}]);
//# sourceMappingURL=chunk-62b3cb83.fcc9890b.js.map